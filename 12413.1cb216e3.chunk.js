"use strict";(self.webpackChunk_pcash_app_corporate_mega=self.webpackChunk_pcash_app_corporate_mega||[]).push([[12413],{712413:function(n,e,r){r.d(e,{Z:function(){return w}});var t=r(997997),o=r(926242),a=r(227511),s=r(458396),i=r(241472),c=r(528329),u=r(643766),l=r(408026),d=r(287392);function p(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function f(n,e,r,t,o,a,s){try{var i=n[a](s),c=i.value}catch(n){r(n);return}i.done?e(c):Promise.resolve(c).then(t,o)}function S(n){return function(){var e=this,r=arguments;return new Promise(function(t,o){var a=n.apply(e,r);function s(n){f(a,t,o,s,i,"next",n)}function i(n){f(a,t,o,s,i,"throw",n)}s(void 0)})}}function h(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var r,t,o=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=o){var a=[],s=!0,i=!1;try{for(o=o.call(n);!(s=(r=o.next()).done)&&(a.push(r.value),!e||a.length!==e);s=!0);}catch(n){i=!0,t=n}finally{try{s||null==o.return||o.return()}finally{if(i)throw t}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return p(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(n,e)}}(n,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(n,e){var r,t,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,t=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(n,s)}catch(n){a=[6,n],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}var m=(0,l.QM)({messageContainer:{paddingTop:15}},{name:"ForceChangePasswordModal"}),A=(0,c.J1)({password:{required:!0}});function w(n){var e=n.visible,r=n.i18nNamespace,s=n.handleCloseModal,i=n.isTransaction,c=void 0!==i&&i,u=(0,o.NT)().t,l=h((0,o.DJ)({isForceChangeSuccess:!1}),2),p=l[0],f=l[1];function S(n){f({isForceChangeSuccess:n})}var _=(0,d.useMemo)(function(){return p.isForceChangeSuccess?null:u("".concat(r,".").concat(c?"titleTransaction":"title"))},[r,c,p.isForceChangeSuccess,u]),m=(0,d.useCallback)(function(){s(c)},[s,c]),A=(0,d.useMemo)(function(){return c?function(){return s(c)}:function(){}},[s,c]);return/*#__PURE__*/(0,t.jsx)(a.u_l,{title:_,visible:e,onClose:A,closable:c,width:c?600:void 0,children:p.isForceChangeSuccess?/*#__PURE__*/(0,t.jsx)(P,{i18nNamespace:r,handleCloseModal:m,setForceChangeSuccess:S}):/*#__PURE__*/(0,t.jsx)(C,{isTransaction:c,i18nNamespace:r,setForceChangeSuccess:S})})}function C(n){var e=n.i18nNamespace,r=n.setForceChangeSuccess,c=n.isTransaction,l=(0,o.NT)().t,d=h((0,o.OT)(!1),2),p=d[0],f=d[1],m=h((0,o.UD)({wrapper:a.CAj}),2),w=m[0],C=m[1],P=C.showMessage,g=C.clearMessage;function y(){return(y=S(function(n){var e,t,o;return _(this,function(a){switch(a.label){case 0:e=c?s.ON.forceChangePasswordTransaction:s.ON.forceChangePassword,a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(0,i.v)(null==n?void 0:n.newPassword)];case 2:return t=a.sent(),[4,(0,i.v)((null==n?void 0:n.oldPassword)||"")];case 3:return o=a.sent(),[4,e({old_password:c?o:void 0,new_password:t,confirm_new_password:t})];case 4:return a.sent(),r(!0),[3,6];case 5:return P({error:a.sent(),errorFallback:{key:":common.errors.INTERNAL_ERROR"}}),[3,6];case 6:return f(!1),[2]}})})).apply(this,arguments)}function N(){return(N=S(function(n){return _(this,function(r){return g(),(null==n?void 0:n.newPassword)===(null==n?void 0:n.confirmNewPassword)?(f(!0),setTimeout(function(){return function(n){return y.apply(this,arguments)}(n)},300)):P({messages:[l("".concat(e,".errors.passwordNotMatch"))]}),[2]})})).apply(this,arguments)}return/*#__PURE__*/(0,t.jsxs)(t.Fragment,{children:[/*#__PURE__*/(0,t.jsx)(a.C7g,{children:w}),/*#__PURE__*/(0,t.jsxs)(a.Oa5,{i18nNamespace:e,onSubmit:function(n){return N.apply(this,arguments)},children:[/*#__PURE__*/(0,t.jsxs)(a.X2j,{gutter:[16,0],children:[c&&/*#__PURE__*/(0,t.jsx)(a.JXS,{span:22,children:/*#__PURE__*/(0,t.jsx)(a.cC_,{name:"oldPassword",type:"password",rules:A.password})}),/*#__PURE__*/(0,t.jsx)(a.JXS,{span:22,children:/*#__PURE__*/(0,t.jsx)(a.cC_,{name:"newPassword",type:"password",rules:A.password})}),/*#__PURE__*/(0,t.jsx)(a.JXS,{span:1,children:/*#__PURE__*/(0,t.jsx)(u.l,{})}),/*#__PURE__*/(0,t.jsx)(a.JXS,{span:22,children:/*#__PURE__*/(0,t.jsx)(a.cC_,{name:"confirmNewPassword",type:"password",rules:A.password})})]}),/*#__PURE__*/(0,t.jsx)(v,{isLoading:p,i18nNamespace:e})]})]})}function v(n){var e=n.isLoading,r=n.i18nNamespace,s=(0,o.NT)().t,i=h((0,a.bjH)(),1)[0].isValid;return/*#__PURE__*/(0,t.jsx)(a.hE2,{alignment:"right",buttons:[{id:"t-save-force-change-password",label:s("".concat(r,".buttons.save")),variant:"primary",type:"submit",loading:e,disabled:!i}]})}function P(n){var e=n.i18nNamespace,r=n.handleCloseModal,s=n.setForceChangeSuccess,i=(0,o.NT)().t,c=m(),u=(0,d.useCallback)(function(){s(!1),r()},[r,s]);return/*#__PURE__*/(0,t.jsxs)(t.Fragment,{children:[/*#__PURE__*/(0,t.jsx)("div",{className:c.messageContainer,children:i("".concat(e,".successMessage"))}),/*#__PURE__*/(0,t.jsx)(a.hE2,{alignment:"right",buttons:[{id:"t-continue-force-change-password",label:i("".concat(e,".buttons.continue")),variant:"primary",type:"button",onClick:u}]})]})}},643766:function(n,e,r){r.d(e,{l:function(){return _}});var t,o,a=r(997997),s=r(458396),i=r(926242),c=r(227511),u=r(287392);(t=o||(o={})).PASSWORD_MIN_LENGTH="PASSWORD_MIN_LENGTH",t.PASSWORD_MAX_LENGTH="PASSWORD_MAX_LENGTH",t.PASSWORD_MIN_LOWERCASE="PASSWORD_MIN_LOWERCASE",t.PASSWORD_MIN_UPPERCASE="PASSWORD_MIN_UPPERCASE",t.PASSWORD_MIN_NUMERIC="PASSWORD_MIN_NUMERIC",t.PASSWORD_MAX_CONSECUTIVES="PASSWORD_MAX_CONSECUTIVES",t.PASSWORD_MAX_LOOK_UP="PASSWORD_MAX_LOOK_UP",t.PASSWORD_CONSIST_ALPHANUM="PASSWORD_CONSIST_ALPHANUM",t.PASSWORD_CONSIST_SPECIAL_CHAR="PASSWORD_CONSIST_SPECIAL_CHAR",t.PASSWORD_MIN_SPECIAL_CHAR="PASSWORD_MIN_SPECIAL_CHAR";var l=r(391465),d=r(408026),p=r(880652);function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}var S=(0,d.QM)({passwordContainer:{width:300,height:"auto"}},{name:"PasswordInfoSection"}),h={loading:function(){return/*#__PURE__*/(0,a.jsx)(c.OdW,{loading:!0,active:!0,title:!1,paragraph:{rows:3}})}};function _(n){var e,r=n.includeMaxLookup,t=void 0===r||r,d=(0,i.NT)().t,_=S(),m=function(n){if(Array.isArray(n))return n}(e=(0,i.cq)(s.TM.getPasswordConfig,h))||function(n,e){var r,t,o=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=o){var a=[],s=!0,i=!1;try{for(o=o.call(n);!(s=(r=o.next()).done)&&(a.push(r.value),2!==a.length);s=!0);}catch(n){i=!0,t=n}finally{try{s||null==o.return||o.return()}finally{if(i)throw t}}return a}}(e,2)||function(n,e){if(n){if("string"==typeof n)return f(n,2);var r=Object.prototype.toString.call(n).slice(8,-1);if("Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(n,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=m[0],w=m[1],C=w.execute,v=w.isLoading,P=w.data,g=(0,u.useMemo)(function(){if(P){var n="".concat(d(":common.component.passwordInformation.initialWord")," "),e=[],r=function(n,r,t){var o=P.find(function(e){return e.code===n});o&&(t?t(o):"0"!==o.value&&e.push(d(":common.component.passwordInformation.".concat(r),{value:o.value})))};return r(o.PASSWORD_MIN_LENGTH,"passwordMinLength"),r(o.PASSWORD_MAX_LENGTH,"passwordMaxLength"),r(o.PASSWORD_MIN_LOWERCASE,"passwordMinLowercase"),r(o.PASSWORD_MIN_UPPERCASE,"passwordMinUppercase"),r(o.PASSWORD_MIN_NUMERIC,"passwordMinNumeric"),r(o.PASSWORD_MAX_CONSECUTIVES,"passwordMaxConsecutives"),t&&r(o.PASSWORD_MAX_LOOK_UP,"passwordMaxLookUp"),r(o.PASSWORD_MIN_SPECIAL_CHAR,"passwordMinSpecialChar"),r(o.PASSWORD_CONSIST_ALPHANUM,"",function(n){n.value===p.Z.Y&&e.push(d(":common.component.passwordInformation.passwordConsistAlphanum"))}),e.length>0?n+=e.join(", "):n=d(":common.component.passwordInformation.noPasswordRule"),n}},[P,t,d]);return/*#__PURE__*/(0,a.jsx)(c.J2e,{onVisibleChange:function(n){!n||P||v||C()},content:/*#__PURE__*/(0,a.jsx)("div",{className:_.passwordContainer,children:/*#__PURE__*/(0,a.jsx)(A,{children:/*#__PURE__*/(0,a.jsx)("span",{id:"t-span-password-information",children:g})})}),children:/*#__PURE__*/(0,a.jsx)(c.zxk,{tabIndex:-1,variant:"link",icon:/*#__PURE__*/(0,a.jsx)(l.Z,{})})})}}}]);